'use client';
import { useState } from 'react';
import Link from 'next/link';
import { usePathname } from 'next/navigation'

export default function navbar() {

    const pathname = usePathname()
    const [activeLink, setActiveLink] = useState('');
    const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

    const toggleMobileMenu = () => {
        setMobileMenuOpen(!mobileMenuOpen);
    };

    return (
    <header className="bg-white">
      <div className="container mx-auto px-4 md:px-12 md:pt-6">
        <div className="flex justify-between items-center py-3">
          <Link href="/">
            <svg className='w-44 flex-no-shrink' width="212" height="64" viewBox="0 0 212 64" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M90.7118 47.896C88.5175 47.896 86.5427 47.6912 84.7872 47.2816C83.0611 46.8428 81.5543 46.3454 80.267 45.7895C79.9452 45.6432 79.6526 45.4092 79.3893 45.0873C79.1552 44.7362 79.0382 44.3705 79.0382 43.9902C79.0382 43.4928 79.1991 43.0686 79.521 42.7175C79.8428 42.3372 80.2816 42.147 80.8375 42.147C81.1301 42.147 81.408 42.2055 81.6714 42.3225C82.6661 42.7614 83.8803 43.171 85.3139 43.5513C86.7767 43.9317 88.4444 44.1218 90.3169 44.1218C91.7797 44.1218 93.0816 43.9756 94.2227 43.683C95.393 43.3612 96.3146 42.8345 96.9875 42.1031C97.6604 41.3424 97.9968 40.333 97.9968 39.075C97.9968 38.1388 97.6604 37.3927 96.9875 36.8368C96.3146 36.2517 95.4222 35.7689 94.3105 35.3886C93.1987 35.0082 91.9699 34.6572 90.6241 34.3353C89.3075 34.0135 87.9909 33.6624 86.6743 33.2821C85.3578 32.8725 84.1436 32.3458 83.0318 31.7022C81.92 31.0585 81.0277 30.2393 80.3548 29.2446C79.6819 28.2206 79.3454 26.9333 79.3454 25.3826C79.3454 23.7442 79.7696 22.2521 80.6181 20.9063C81.4958 19.5312 82.7831 18.4341 84.48 17.6149C86.177 16.7957 88.2542 16.3861 90.7118 16.3861C92.438 16.3861 94.0325 16.5177 95.4954 16.781C96.9582 17.0443 98.2748 17.3954 99.4451 17.8343C99.7669 17.9513 100.045 18.1415 100.279 18.4048C100.542 18.6681 100.674 19.0631 100.674 19.5897C100.674 20.0286 100.513 20.4528 100.191 20.8624C99.8986 21.2428 99.4743 21.4329 98.9184 21.4329C98.8014 21.4329 98.6844 21.4183 98.5674 21.389C98.4503 21.3305 98.3333 21.2866 98.2163 21.2574C97.2215 20.9063 96.1244 20.6284 94.9249 20.4236C93.7546 20.1895 92.4965 20.0725 91.1507 20.0725C88.9271 20.0725 87.0693 20.4967 85.5772 21.3452C84.0851 22.1936 83.339 23.437 83.339 25.0754C83.339 26.158 83.6755 27.021 84.3484 27.6647C85.0213 28.3084 85.9136 28.8204 87.0254 29.2007C88.1372 29.581 89.3514 29.9321 90.6679 30.254C91.9845 30.5465 93.3011 30.883 94.6177 31.2633C95.9342 31.6437 97.1484 32.1557 98.2602 32.7993C99.3719 33.4137 100.264 34.2476 100.937 35.3008C101.61 36.3248 101.947 37.6706 101.947 39.3383C101.947 40.9767 101.478 42.4542 100.542 43.7708C99.6353 45.0581 98.3333 46.0674 96.6364 46.7989C94.9687 47.5303 92.9939 47.896 90.7118 47.896ZM113.015 47.896C111.757 47.896 110.572 47.6327 109.46 47.1061C108.378 46.5794 107.5 45.8334 106.827 44.8679C106.183 43.8732 105.862 42.6882 105.862 41.3132C105.862 39.2359 106.681 37.539 108.319 36.2224C109.987 34.8766 112.532 34.2037 115.955 34.2037H121.266V33.8526C121.266 31.8924 120.783 30.5026 119.817 29.6834C118.852 28.835 117.374 28.4108 115.385 28.4108C114.156 28.4108 113.074 28.5278 112.137 28.7618C111.23 28.9666 110.367 29.2007 109.548 29.464C109.314 29.5225 109.124 29.5518 108.978 29.5518C108.539 29.5518 108.158 29.3909 107.837 29.069C107.515 28.7472 107.354 28.3522 107.354 27.8841C107.354 27.0942 107.734 26.5383 108.495 26.2165C109.519 25.7776 110.645 25.4119 111.874 25.1193C113.132 24.7975 114.536 24.6366 116.087 24.6366C118.223 24.6366 119.964 25.0608 121.309 25.9093C122.655 26.7577 123.65 27.8402 124.294 29.1568C124.937 30.4734 125.259 31.8485 125.259 33.2821V45.7017C125.259 46.2576 125.054 46.7257 124.645 47.1061C124.264 47.4864 123.796 47.6766 123.24 47.6766C122.685 47.6766 122.216 47.4864 121.836 47.1061C121.456 46.7257 121.266 46.2576 121.266 45.7017V44.5607C120.476 45.3799 119.422 46.1406 118.106 46.8428C116.789 47.5449 115.092 47.896 113.015 47.896ZM114.507 44.3852C115.882 44.3852 117.17 44.0487 118.369 43.3758C119.569 42.7029 120.534 41.9422 121.266 41.0937V37.4073H116.482C114.434 37.4073 112.81 37.6706 111.611 38.1973C110.44 38.7239 109.855 39.6162 109.855 40.8743C109.855 41.8105 110.177 42.6297 110.821 43.3319C111.494 44.0341 112.722 44.3852 114.507 44.3852ZM139.51 47.6766C138.954 47.6766 138.457 47.5157 138.018 47.1938C137.609 46.872 137.301 46.4917 137.097 46.0528L129.461 27.7964C129.314 27.4453 129.241 27.1381 129.241 26.8748C129.241 26.3189 129.431 25.8508 129.812 25.4704C130.192 25.0608 130.66 24.856 131.216 24.856C131.626 24.856 131.991 24.973 132.313 25.2071C132.664 25.4119 132.898 25.6752 133.015 25.997L139.73 43.0247L146.444 25.997C146.591 25.6752 146.825 25.4119 147.146 25.2071C147.498 24.973 147.863 24.856 148.244 24.856C148.799 24.856 149.268 25.0608 149.648 25.4704C150.028 25.8508 150.218 26.3189 150.218 26.8748C150.218 27.1381 150.145 27.4453 149.999 27.7964L142.363 46.0528C142.158 46.4917 141.836 46.872 141.397 47.1938C140.988 47.5157 140.505 47.6766 139.949 47.6766H139.51ZM164.413 47.896C162.16 47.896 160.185 47.4133 158.488 46.4478C156.791 45.453 155.475 44.0926 154.538 42.3664C153.631 40.611 153.178 38.5776 153.178 36.2663C153.178 33.955 153.631 31.9362 154.538 30.2101C155.475 28.4546 156.791 27.0942 158.488 26.1287C160.185 25.134 162.16 24.6366 164.413 24.6366C166.666 24.6366 168.626 25.134 170.293 26.1287C171.99 27.0942 173.307 28.4546 174.243 30.2101C175.179 31.9362 175.647 33.955 175.647 36.2663C175.647 38.5776 175.179 40.611 174.243 42.3664C173.307 44.0926 171.99 45.453 170.293 46.4478C168.626 47.4133 166.666 47.896 164.413 47.896ZM164.413 44.2535C165.525 44.2535 166.636 43.9902 167.748 43.4636C168.86 42.9369 169.781 42.0885 170.513 40.9182C171.274 39.7186 171.654 38.1534 171.654 36.2224C171.654 34.2914 171.274 32.7408 170.513 31.5705C169.781 30.4002 168.86 29.5664 167.748 29.069C166.636 28.5424 165.525 28.2791 164.413 28.2791C163.301 28.2791 162.175 28.5424 161.034 29.069C159.922 29.5664 159 30.4002 158.269 31.5705C157.537 32.7408 157.172 34.2914 157.172 36.2224C157.172 38.1534 157.537 39.7186 158.269 40.9182C159 42.0885 159.922 42.9369 161.034 43.4636C162.175 43.9902 163.301 44.2535 164.413 44.2535ZM183.213 47.6766C182.657 47.6766 182.189 47.4864 181.809 47.1061C181.429 46.7257 181.238 46.2576 181.238 45.7017V26.8748C181.238 26.3189 181.429 25.8508 181.809 25.4704C182.189 25.0608 182.657 24.856 183.213 24.856C183.769 24.856 184.237 25.0608 184.618 25.4704C185.027 25.8508 185.232 26.3189 185.232 26.8748V28.7618C186.022 27.7086 186.987 26.7577 188.129 25.9093C189.27 25.0608 190.601 24.6366 192.122 24.6366H192.342C192.897 24.6366 193.351 24.8268 193.702 25.2071C194.082 25.5874 194.273 26.0556 194.273 26.6114C194.273 27.1673 194.082 27.6208 193.702 27.9719C193.322 28.323 192.839 28.4985 192.254 28.4985H192.034C190.601 28.4985 189.299 28.8642 188.129 29.5957C186.958 30.2978 185.993 31.2194 185.232 32.3605V45.7017C185.232 46.2576 185.027 46.7257 184.618 47.1061C184.237 47.4864 183.769 47.6766 183.213 47.6766ZM200.013 47.6766C199.457 47.6766 198.989 47.4864 198.609 47.1061C198.229 46.7257 198.038 46.2576 198.038 45.7017V26.8748C198.038 26.3189 198.229 25.8508 198.609 25.4704C198.989 25.0608 199.457 24.856 200.013 24.856C200.569 24.856 201.037 25.0608 201.418 25.4704C201.827 25.8508 202.032 26.3189 202.032 26.8748V28.7618C202.822 27.7086 203.787 26.7577 204.929 25.9093C206.07 25.0608 207.401 24.6366 208.922 24.6366H209.142C209.697 24.6366 210.151 24.8268 210.502 25.2071C210.882 25.5874 211.073 26.0556 211.073 26.6114C211.073 27.1673 210.882 27.6208 210.502 27.9719C210.122 28.323 209.639 28.4985 209.054 28.4985H208.834C207.401 28.4985 206.099 28.8642 204.929 29.5957C203.758 30.2978 202.793 31.2194 202.032 32.3605V45.7017C202.032 46.2576 201.827 46.7257 201.418 47.1061C201.037 47.4864 200.569 47.6766 200.013 47.6766Z" fill="#474D41"/>
            <rect width="64" height="64" rx="9.14286" fill="#69C34A"/>
            <path d="M47.1043 22.0784C46.7029 21.9558 46.2709 22.0913 46.009 22.4106L45.5799 22.9263V11.8093C45.5799 11.2414 45.1195 10.7809 44.5515 10.7809H29.7373C29.2902 7.78773 26.7022 5.48566 23.587 5.48566C23.5841 5.48566 23.5812 5.48566 23.5781 5.48566C20.1508 5.49114 17.3664 8.28428 17.3712 11.7125L17.3905 23.5226L16.4567 22.4027C16.2612 22.1686 15.9619 22.033 15.6568 22.033C15.089 22.033 14.6284 22.505 14.6284 23.0729V57.0924C14.6284 57.6604 15.089 58.1208 15.6568 58.1208H46.8042C47.372 58.1208 47.8326 57.6604 47.8326 57.0924L47.8336 23.0614C47.8336 22.6089 47.5373 22.2102 47.1043 22.0784ZM29.8681 26.03C29.8453 25.8051 29.8299 25.5791 29.8292 25.353V25.3004C29.845 21.5388 32.9098 18.4833 36.6756 18.4833C40.4512 18.4833 43.5229 21.5544 43.5229 25.3295C43.5229 25.3527 43.521 25.3766 43.5208 25.4001L41.627 27.6756L37.2316 22.4029C37.0362 22.1684 36.7469 22.033 36.4418 22.033C36.1367 22.033 35.8474 22.1686 35.652 22.4027L31.2477 27.6846L29.8681 26.03ZM43.5231 19.6454C41.8884 17.6801 39.4261 16.4265 36.6758 16.4265C33.9209 16.4265 31.4543 17.6844 29.8198 19.6555L29.8083 12.8375H43.5232L43.5231 19.6454ZM19.428 11.7094C19.4247 9.41535 21.288 7.54606 23.5812 7.54246C23.5832 7.54246 23.5849 7.54246 23.587 7.54246C25.3711 7.54246 26.8972 8.67096 27.4879 10.2521L22.9974 14.7565C22.6966 15.0582 22.6973 15.5465 22.9991 15.8473C23.1496 15.9973 23.3465 16.0724 23.5436 16.0724C23.7414 16.0724 23.9392 15.9966 24.0899 15.8456L27.7506 12.1737L27.756 15.4324L23.0085 20.1944C22.7077 20.496 22.7084 20.9843 23.0102 21.2852C23.1607 21.4353 23.3577 21.5102 23.5548 21.5102C23.7526 21.5102 23.9504 21.4346 24.101 21.2834L27.7594 17.6136L27.7695 23.5127L26.8443 22.4029C26.6489 22.1686 26.3596 22.033 26.0545 22.033C25.7494 22.033 25.4599 22.1686 25.2647 22.4029L20.8614 27.6847L19.4516 25.9942L19.428 11.7094ZM45.7758 56.0641H16.6852V25.8885L20.0712 29.9491C20.2668 30.1834 20.556 30.3188 20.861 30.3188C21.1661 30.3188 21.4556 30.1834 21.6509 29.9489L26.0543 24.6672L28.0746 27.0907C28.0811 27.0987 28.0876 27.1064 28.0943 27.1143L30.4576 29.9491C30.653 30.1834 30.9423 30.319 31.2474 30.319C31.5525 30.319 31.8418 30.1836 32.0372 29.9493L36.4413 24.6674L40.8377 29.941C41.0331 30.1755 41.3225 30.3109 41.6275 30.3109H41.6281C41.9333 30.3107 42.2228 30.175 42.418 29.9403L45.3411 26.428C45.3432 26.4256 45.3452 26.4232 45.3473 26.4206L45.7758 25.9058V56.0641Z" fill="white" stroke="white" stroke-width="0.365714"/>
            </svg>
          </Link>

          <nav className="hidden md:flex space-x-12 items-center text-lg">
            <Link href="/" className={`text-gray font-varela ${pathname === '/' ? 'text-green underline underline-offset-8' : 'hover:text-green'}`}>
                Home
            </Link>
            <Link href="/shopping-list" className={`text-gray font-varela ${pathname === '/shopping-list' ? 'text-green underline underline-offset-8' : 'hover:text-green'}`}>
                Shopping List
            </Link>
            <Link href="/coupons" className={`text-gray font-varela ${pathname === '/coupons' ? 'text-green underline underline-offset-8' : 'hover:text-green'}`}>
                Coupons
            </Link>
          </nav>

          <Link href="/learn-more">
            <span className="hidden md:block text-white bg-green px-8 py-1 rounded-sm font-varela text-lg">Learn More</span>
          </Link>

          <div className="md:hidden">
            <button onClick={toggleMobileMenu} className="text-gray-700 hover:text-green-600">
              <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                {mobileMenuOpen ? (
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M6 18L18 6M6 6l12 12" />
                ) : (
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M4 6h16M4 12h16M4 18h16" />
                )}
              </svg>
            </button>
          </div>
        </div>
      </div>

      {mobileMenuOpen && (
        <div className="md:hidden bg-white shadow-md">
          <div className="container mx-auto px-4 py-2">
            <ul className="space-y-2">
              <li>
                <Link href="/">
                  <span className="text-gray hover:text-green">Home</span>
                </Link>
              </li>
              <li>
                <Link href="/shopping-list">
                  <span className="text-gray hover:text-green">Shopping List</span>
                </Link>
              </li>
              <li>
                <Link href="/coupons">
                  <span className="text-gray hover:text-green">Coupons</span>
                </Link>
              </li>
              <li>
                <Link href="/learn-more">
                  <span className="text-gray hover:text-green">Learn more</span>
                </Link>
              </li>
            </ul>
          </div>
        </div>
      )}
    </header>
  );
}